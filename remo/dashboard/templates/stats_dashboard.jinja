{% extends "base_fd4.jinja" %}
{% block pagetitle %}Mozilla Reps - Stats{% endblock %}

{% block content %}
<main role="main" class="dashboard-main">
  <div class="row">
    <div class="large-6 columns">
      <h1>Stats Dashboard</h1>
    </div>
  </div>
  <div class="row">
    <div class="large-6 columns">
      <div class="dashboard-stats-activities-block">
        <h2>Overview</h2>
        <p>General overview of the Reps Program.</p>
        <table class="dashboard-table">
          <thead>
            <tr>
              <th>Reps</th>
              <th>Past events</th>
              <th>Future events</th>
              <th>Activities</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>{{ reps }}</td>
              <td>{{ past_events }}</td>
              <td>{{ future_events }}</td>
              <td>{{ activities }}</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
    <div class="large-6 columns">
      <h2>Activities</h2>
      <p>When have Reps done activities recently?</p>
      <div class="dashboard-stats-activities-block">
        <table class="dashboard-table">
          <thead>
            <tr>
              <th>Past or upcoming 4 weeks</th>
              <th>Past or upcoming 4-8 weeks</th>
              <th>Past or upcoming 8+ weeks</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>{{ active_users }}</td>
              <td>{{ inactive_low_users }}</td>
              <td>{{ inactive_high_users }}</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="large-6 columns">
      <div class="dashboard-stats-activities-block">
        <h2>Activity</h2>
        <p>Active Reps per time period (filed any reports - only counting past)</p>
        <table class="dashboard-table">
          <thead>
            <tr>
              <th>1 month</th>
              <th>2 months</th>
              <th>6 months</th>
              <th>12 months</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>{{ active_month1 }}</td>
              <td>{{ active_month2 }}</td>
              <td>{{ active_month6 }}</td>
              <td>{{ active_month12 }}</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
    <div class="large-6 columns">
      <h2>Top Countries</h2>
      <p>Where are the most Reps?</p>
      <div class="dashboard-stats-activities-block">
        <table class="dashboard-table">
          <thead>
            <tr>
              <th>Country</th>
              <th>Reps</th>
            </tr>
          </thead>
          <tbody>
            {% for country in top_countries %}
              <tr>
                <td>{{ country.userprofile__country }}</td>
                <td>{{ country.country_count }}</td>
              </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    </div>
  </div>
</main>
{% endblock %}
